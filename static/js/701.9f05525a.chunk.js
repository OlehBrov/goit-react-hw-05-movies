"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[701],{701:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),c=n(243),i=n(317),a=function(e){try{return c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(i.$))}catch(t){console.log(t)}},o=n(791),s=n(689),u=n(184),h="idle",d="pending",l="rejected",p="resolved",f=function(){var e=(0,o.useState)(h),t=(0,r.Z)(e,2),n=t[0],c=t[1],i=(0,o.useState)(),f=(0,r.Z)(i,2),v=f[0],g=f[1],m=(0,o.useState)(""),x=(0,r.Z)(m,2),_=x[0],b=x[1],j=(0,s.UO)().id;return(0,o.useEffect)((function(){c(d),a(j).then((function(e){0===e.data.results.length?(b([{id:"000",author:"Oops!",content:"This movie has no reviews. Maybe its boring"}]),c(p)):b(e.data.results),c(p)})).catch((function(e){return g(e)}),c(l))}),[j]),n===d||n===h?(0,u.jsx)("h1",{children:"Loading reviews"}):n===p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{children:"REVIEWS"}),(0,u.jsx)("ul",{children:_.map((function(e){return(0,u.jsxs)("li",{children:[(0,u.jsx)("p",{children:e.author}),(0,u.jsx)("p",{children:e.content})]},e.id)}))})]}):n===l?(0,u.jsxs)("h1",{children:["Some error - ",v," happened"]}):void 0}},317:function(e,t,n){n.d(t,{$:function(){return o}});var r=n(861),c=n(757),i=n.n(c),a=n(243),o="8ab5cec4865fda22e5306b37c1a59fd4",s=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(o));case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t.Z=s}}]);
//# sourceMappingURL=701.9f05525a.chunk.js.map